{"version":3,"sources":["../src/utils.js","../src/property.js","../src/render.js","../src/emitter.js","../src/cache.js","../src/define.js","../src/parent.js","../src/children.js","../../src/template/utils.js","../../../src/template/resolvers/array.js","../../../src/template/resolvers/value.js","../../../src/template/resolvers/event.js","../../../src/template/resolvers/class.js","../../../src/template/resolvers/style.js","../../../src/template/resolvers/property.js","../../src/template/core.js","../../src/template/helpers.js","../../src/template/index.js","../src/index.js","src/index.js"],"names":["camelToDashMap","Map","camelToDash","str","result","get","undefined","replace","toLowerCase","set","pascalToDash","dispatch","host","eventType","options","dispatchEvent","CustomEvent","bubbles","shadyCSS","fn","fallback","shady","window","ShadyCSS","nativeShadow","stringifyElement","element","tagName","String","IS_IE","deferred","Promise","resolve","defaultTransform","v","objectTransform","value","TypeError","Object","freeze","property","connect","type","transform","Number","Boolean","val","oldValue","key","invalidate","attrName","hasAttribute","attrValue","getAttribute","render","customOptions","shadowRoot","shadowRootInit","mode","assign","update","target","attachShadow","observe","flush","callbacks","WeakMap","queue","Set","execute","forEach","delete","e","size","requestAnimationFrame","add","subscribe","cb","entries","getEntry","targetMap","entry","contexts","deps","state","checksum","observed","calculateChecksum","depEntry","dispatchDeep","emitter","restoreObservedDeps","contextStack","getter","has","Error","context","nextValue","setter","force","newValue","clearValue","lastValue","unsubscribe","process","walkInShadow","updateQueue","defaultMethod","compile","Hybrid","descriptors","hybrids","keys","desc","config","Array","isArray","defineProperty","prototype","cache","enumerable","configurable","unshift","push","disconnects","defineElement","hybridsOrConstructor","CustomElement","customElements","define","HTMLElement","constructor","list","index","length","defineMap","elements","reduce","acc","walk","node","parentElement","parentNode","parent","hybridsOrFn","items","from","children","child","deep","nested","observer","MutationObserver","childList","subtree","disconnect","map","dataMap","defaultValue","getTemplateEnd","data","endNode","removeTemplate","nodeType","Node","TEXT_NODE","childNodes","removeChild","startNode","lastNextSibling","nextSibling","arrayMap","movePlaceholder","previousSibling","insertBefore","prevNode","nextNode","resolveArray","lastEntries","item","id","hasOwnProperty","call","placeholder","available","ids","filter","lastIndex","matchedEntry","i","document","createTextNode","resolveValue","textContent","targets","resolveEventListener","eventMap","removeEventListener","callback","bind","addEventListener","normalizeValue","className","classMap","resolveClassList","previousList","classList","remove","styleMap","resolveStyle","previousMap","nextMap","dashKey","styleValue","style","setProperty","removeProperty","resolveProperty","propertyName","isSVG","substr","resolveStyleList","SVGElement","removeAttribute","setAttribute","TIMESTAMP","Date","now","getPlaceholder","PLACEHOLDER_REGEXP_TEXT","PLACEHOLDER_REGEXP_EQUAL","RegExp","PLACEHOLDER_REGEXP_ALL","ATTR_PREFIX","ATTR_REGEXP","preparedTemplates","applyShadyCSS","template","clone","createElement","content","appendChild","cloneNode","styles","querySelectorAll","count","prepareTemplate","createSignature","parts","signature","part","slice","join","match","getPropertyName","string","split","pop","replaceComments","fragment","iterator","createNodeIterator","NodeFilter","SHOW_COMMENT","test","createInternalWalker","currentNode","createExternalWalker","createTreeWalker","SHOW_ELEMENT","SHOW_TEXT","createWalker","ShadyDOM","inUse","container","compileTemplate","rawParts","innerHTML","svgRoot","firstChild","compileWalker","compileIndex","text","results","before","next","equal","ELEMENT_NODE","attributes","attr","trim","name","partialName","args","prevArgs","importNode","renderWalker","clonedParts","renderIndex","currentPart","shift","markers","previousChild","marker","styleSubtree","styleElement","setCache","arguments","promiseMap","promise","delay","timeout","setTimeout","then","clearTimeout","PLACEHOLDER","SVG_PLACEHOLDER","templatesMap","stylesMap","methods","create","createTemplate","html","svg","helpers","settings","counter"],"mappings":"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","file":"src.8e9f2c09.js","sourceRoot":"..","sourcesContent":["const camelToDashMap = new Map();\nexport function camelToDash(str) {\n  let result = camelToDashMap.get(str);\n  if (result === undefined) {\n    result = str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n    camelToDashMap.set(str, result);\n  }\n  return result;\n}\n\nexport function pascalToDash(str) {\n  return camelToDash(str.replace(/((?!([A-Z]{2}|^))[A-Z])/g, \"-$1\"));\n}\n\nexport function dispatch(host, eventType, options = {}) {\n  return host.dispatchEvent(\n    new CustomEvent(eventType, { bubbles: false, ...options }),\n  );\n}\n\nexport function shadyCSS(fn, fallback) {\n  const shady = window.ShadyCSS;\n\n  /* istanbul ignore next */\n  if (shady && !shady.nativeShadow) {\n    return fn(shady);\n  }\n\n  return fallback;\n}\n\nexport function stringifyElement(element) {\n  const tagName = String(element.tagName).toLowerCase();\n  return `<${tagName}>`;\n}\n\nexport const IS_IE = \"ActiveXObject\" in window;\nexport const deferred = Promise.resolve();\n","import { camelToDash } from \"./utils.js\";\n\nconst defaultTransform = v => v;\n\nconst objectTransform = value => {\n  if (typeof value !== \"object\") {\n    throw TypeError(`Assigned value must be an object: ${typeof value}`);\n  }\n  return value && Object.freeze(value);\n};\n\nexport default function property(value, connect) {\n  const type = typeof value;\n  let transform = defaultTransform;\n\n  switch (type) {\n    case \"string\":\n      transform = String;\n      break;\n    case \"number\":\n      transform = Number;\n      break;\n    case \"boolean\":\n      transform = Boolean;\n      break;\n    case \"function\":\n      transform = value;\n      value = transform();\n      break;\n    case \"object\":\n      if (value) Object.freeze(value);\n      transform = objectTransform;\n      break;\n    default:\n      break;\n  }\n\n  return {\n    get: (host, val = value) => val,\n    set: (host, val, oldValue) => transform(val, oldValue),\n    connect:\n      type !== \"object\" && type !== \"undefined\"\n        ? (host, key, invalidate) => {\n            if (host[key] === value) {\n              const attrName = camelToDash(key);\n\n              if (host.hasAttribute(attrName)) {\n                const attrValue = host.getAttribute(attrName);\n                host[key] =\n                  attrValue === \"\" && transform === Boolean ? true : attrValue;\n              }\n            }\n\n            return connect && connect(host, key, invalidate);\n          }\n        : connect,\n  };\n}\n","export default function render(fn, customOptions = {}) {\n  if (typeof fn !== \"function\") {\n    throw TypeError(`The first argument must be a function: ${typeof fn}`);\n  }\n\n  const options = { shadowRoot: true, ...customOptions };\n  const shadowRootInit = { mode: \"open\" };\n\n  if (typeof options.shadowRoot === \"object\") {\n    Object.assign(shadowRootInit, options.shadowRoot);\n  }\n\n  return {\n    get(host) {\n      const update = fn(host);\n      let target = host;\n\n      if (options.shadowRoot) {\n        if (!host.shadowRoot) host.attachShadow(shadowRootInit);\n        target = host.shadowRoot;\n      }\n\n      return function flush() {\n        update(host, target);\n        return target;\n      };\n    },\n    observe(host, flush) {\n      flush();\n    },\n  };\n}\n","const callbacks = new WeakMap();\nconst queue = new Set();\n\nfunction execute() {\n  try {\n    queue.forEach(target => {\n      try {\n        callbacks.get(target)();\n        queue.delete(target);\n      } catch (e) {\n        queue.delete(target);\n        throw e;\n      }\n    });\n  } catch (e) {\n    if (queue.size) execute();\n    throw e;\n  }\n}\n\nexport function dispatch(target) {\n  if (!queue.size) {\n    requestAnimationFrame(execute);\n  }\n  queue.add(target);\n}\n\nexport function subscribe(target, cb) {\n  callbacks.set(target, cb);\n  dispatch(target);\n\n  return function unsubscribe() {\n    queue.delete(target);\n    callbacks.delete(target);\n  };\n}\n","import { stringifyElement } from \"./utils.js\";\nimport * as emitter from \"./emitter.js\";\n\nconst entries = new WeakMap();\nexport function getEntry(target, key) {\n  let targetMap = entries.get(target);\n  if (!targetMap) {\n    targetMap = new Map();\n    entries.set(target, targetMap);\n  }\n\n  let entry = targetMap.get(key);\n\n  if (!entry) {\n    entry = {\n      target,\n      key,\n      value: undefined,\n      contexts: undefined,\n      deps: undefined,\n      state: 0,\n      checksum: 0,\n      observed: false,\n    };\n    targetMap.set(key, entry);\n  }\n\n  return entry;\n}\n\nfunction calculateChecksum(entry) {\n  let checksum = entry.state;\n  if (entry.deps) {\n    entry.deps.forEach(depEntry => {\n      checksum += depEntry.state;\n    });\n  }\n\n  return checksum;\n}\n\nfunction dispatchDeep(entry) {\n  if (entry.observed) emitter.dispatch(entry);\n  if (entry.contexts) entry.contexts.forEach(dispatchDeep);\n}\n\nfunction restoreObservedDeps(entry, deps) {\n  if (deps) {\n    deps.forEach(depEntry => {\n      entry.deps.add(depEntry);\n      if (!depEntry.contexts) depEntry.contexts = new Set();\n      depEntry.contexts.add(entry);\n      restoreObservedDeps(entry, depEntry.deps);\n    });\n  }\n}\n\nconst contextStack = new Set();\nexport function get(target, key, getter) {\n  const entry = getEntry(target, key);\n\n  if (contextStack.size && contextStack.has(entry)) {\n    throw Error(\n      `Circular get invocation of the '${key}' property in '${stringifyElement(\n        target,\n      )}'`,\n    );\n  }\n\n  contextStack.forEach(context => {\n    if (!context.deps) context.deps = new Set();\n    context.deps.add(entry);\n\n    if (context.observed) {\n      if (!entry.contexts) entry.contexts = new Set();\n      entry.contexts.add(context);\n    }\n  });\n\n  if (entry.checksum && entry.checksum === calculateChecksum(entry)) {\n    return entry.value;\n  }\n\n  try {\n    contextStack.add(entry);\n\n    if (entry.observed && entry.deps && entry.deps.size) {\n      entry.deps.forEach(depEntry => {\n        if (depEntry.contexts) depEntry.contexts.delete(entry);\n      });\n    }\n\n    entry.deps = undefined;\n    const nextValue = getter(target, entry.value);\n\n    if (entry.observed && entry.deps) {\n      entry.deps.forEach(depEntry => {\n        restoreObservedDeps(entry, depEntry.deps);\n      });\n    }\n\n    if (nextValue !== entry.value) {\n      entry.state += 1;\n      entry.value = nextValue;\n\n      dispatchDeep(entry);\n    }\n\n    entry.checksum = calculateChecksum(entry);\n    contextStack.delete(entry);\n  } catch (e) {\n    entry.checksum = 0;\n\n    contextStack.delete(entry);\n    contextStack.forEach(context => {\n      context.deps.delete(entry);\n      if (context.observed) entry.contexts.delete(context);\n    });\n\n    throw e;\n  }\n\n  return entry.value;\n}\n\nexport function set(target, key, setter, value, force) {\n  if (contextStack.size && !force) {\n    throw Error(\n      `Try to set '${key}' of '${stringifyElement(target)}' in get call`,\n    );\n  }\n\n  const entry = getEntry(target, key);\n  const newValue = setter(target, value, entry.value);\n\n  if (newValue !== entry.value) {\n    entry.checksum = 0;\n    entry.state += 1;\n    entry.value = newValue;\n\n    dispatchDeep(entry);\n  }\n}\n\nexport function invalidate(target, key, clearValue) {\n  if (contextStack.size) {\n    throw Error(\n      `Try to invalidate '${key}' in '${stringifyElement(target)}' get call`,\n    );\n  }\n\n  const entry = getEntry(target, key);\n\n  entry.checksum = 0;\n  entry.state += 1;\n\n  dispatchDeep(entry);\n\n  if (clearValue) {\n    entry.value = undefined;\n  }\n}\n\nexport function observe(target, key, getter, fn) {\n  const entry = getEntry(target, key);\n  entry.observed = true;\n\n  let lastValue;\n  const unsubscribe = emitter.subscribe(entry, () => {\n    const value = get(target, key, getter);\n    if (value !== lastValue) {\n      fn(target, value, lastValue);\n      lastValue = value;\n    }\n  });\n\n  if (entry.deps) {\n    entry.deps.forEach(depEntry => {\n      if (!depEntry.contexts) depEntry.contexts = new Set();\n      depEntry.contexts.add(entry);\n    });\n  }\n\n  return function unobserve() {\n    unsubscribe();\n    entry.observed = false;\n    if (entry.deps && entry.deps.size) {\n      entry.deps.forEach(depEntry => {\n        if (depEntry.contexts) depEntry.contexts.delete(entry);\n      });\n    }\n  };\n}\n","import property from \"./property.js\";\nimport render from \"./render.js\";\n\nimport * as cache from \"./cache.js\";\nimport { pascalToDash, deferred } from \"./utils.js\";\n\n/* istanbul ignore next */\ntry { process.env.NODE_ENV } catch(e) { var process = { env: { NODE_ENV: 'production' } }; } // eslint-disable-line\n\nconst defaultMethod = (host, value) => value;\n\nfunction compile(Hybrid, descriptors) {\n  Hybrid.hybrids = descriptors;\n  Hybrid.callbacks = [];\n\n  Object.keys(descriptors).forEach(key => {\n    const desc = descriptors[key];\n    const type = typeof desc;\n\n    let config;\n\n    if (type === \"function\") {\n      config = key === \"render\" ? render(desc) : { get: desc };\n    } else if (type !== \"object\" || desc === null || Array.isArray(desc)) {\n      config = property(desc);\n    } else {\n      config = {\n        get: desc.get || defaultMethod,\n        set: desc.set || (!desc.get && defaultMethod) || undefined,\n        connect: desc.connect,\n        observe: desc.observe,\n      };\n    }\n\n    Object.defineProperty(Hybrid.prototype, key, {\n      get: function get() {\n        return cache.get(this, key, config.get);\n      },\n      set:\n        config.set &&\n        function set(newValue) {\n          cache.set(this, key, config.set, newValue);\n        },\n      enumerable: true,\n      configurable: process.env.NODE_ENV !== \"production\",\n    });\n\n    if (config.observe) {\n      Hybrid.callbacks.unshift(host =>\n        cache.observe(host, key, config.get, config.observe),\n      );\n    }\n\n    if (config.connect) {\n      Hybrid.callbacks.push(host =>\n        config.connect(host, key, () => {\n          cache.invalidate(host, key);\n        }),\n      );\n    }\n  });\n}\n\nlet update;\n/* istanbul ignore else */\nif (process.env.NODE_ENV !== \"production\") {\n  const walkInShadow = (node, fn) => {\n    fn(node);\n\n    Array.from(node.children).forEach(el => walkInShadow(el, fn));\n\n    if (node.shadowRoot) {\n      Array.from(node.shadowRoot.children).forEach(el => walkInShadow(el, fn));\n    }\n  };\n\n  const updateQueue = new Map();\n  update = (Hybrid, lastHybrids) => {\n    if (!updateQueue.size) {\n      deferred.then(() => {\n        walkInShadow(document.body, node => {\n          if (updateQueue.has(node.constructor)) {\n            const hybrids = updateQueue.get(node.constructor);\n            node.disconnectedCallback();\n\n            Object.keys(node.constructor.hybrids).forEach(key => {\n              cache.invalidate(\n                node,\n                key,\n                node.constructor.hybrids[key] !== hybrids[key],\n              );\n            });\n\n            node.connectedCallback();\n          }\n        });\n        updateQueue.clear();\n      });\n    }\n    updateQueue.set(Hybrid, lastHybrids);\n  };\n}\n\nconst disconnects = new WeakMap();\n\nfunction defineElement(tagName, hybridsOrConstructor) {\n  const type = typeof hybridsOrConstructor;\n  if (type !== \"object\" && type !== \"function\") {\n    throw TypeError(`Second argument must be an object or a function: ${type}`);\n  }\n\n  const CustomElement = window.customElements.get(tagName);\n\n  if (type === \"function\") {\n    if (CustomElement !== hybridsOrConstructor) {\n      return window.customElements.define(tagName, hybridsOrConstructor);\n    }\n    return CustomElement;\n  }\n\n  if (CustomElement) {\n    if (CustomElement.hybrids === hybridsOrConstructor) {\n      return CustomElement;\n    }\n    if (process.env.NODE_ENV !== \"production\" && CustomElement.hybrids) {\n      Object.keys(CustomElement.hybrids).forEach(key => {\n        delete CustomElement.prototype[key];\n      });\n\n      const lastHybrids = CustomElement.hybrids;\n\n      compile(CustomElement, hybridsOrConstructor);\n      update(CustomElement, lastHybrids);\n\n      return CustomElement;\n    }\n\n    throw Error(`Element '${tagName}' already defined`);\n  }\n\n  class Hybrid extends HTMLElement {\n    static get name() {\n      return tagName;\n    }\n\n    connectedCallback() {\n      const { callbacks } = this.constructor;\n      const list = [];\n\n      for (let index = 0; index < callbacks.length; index += 1) {\n        const cb = callbacks[index](this);\n        if (cb) list.push(cb);\n      }\n\n      disconnects.set(this, list);\n    }\n\n    disconnectedCallback() {\n      const list = disconnects.get(this);\n      for (let index = 0; index < list.length; index += 1) {\n        list[index]();\n      }\n    }\n  }\n\n  compile(Hybrid, hybridsOrConstructor);\n  customElements.define(tagName, Hybrid);\n\n  return Hybrid;\n}\n\nfunction defineMap(elements) {\n  return Object.keys(elements).reduce((acc, key) => {\n    const tagName = pascalToDash(key);\n    acc[key] = defineElement(tagName, elements[key]);\n\n    return acc;\n  }, {});\n}\n\nexport default function define(...args) {\n  if (typeof args[0] === \"object\") {\n    return defineMap(args[0]);\n  }\n\n  return defineElement(...args);\n}\n","function walk(node, fn) {\n  let parentElement = node.parentElement || node.parentNode.host;\n\n  while (parentElement) {\n    const hybrids = parentElement.constructor.hybrids;\n\n    if (hybrids && fn(hybrids)) {\n      return parentElement;\n    }\n\n    parentElement =\n      parentElement.parentElement ||\n      (parentElement.parentNode && parentElement.parentNode.host);\n  }\n\n  return parentElement || null;\n}\n\nexport default function parent(hybridsOrFn) {\n  const fn =\n    typeof hybridsOrFn === \"function\"\n      ? hybridsOrFn\n      : hybrids => hybrids === hybridsOrFn;\n  return {\n    get: host => walk(host, fn),\n    connect(host, key, invalidate) {\n      const target = host[key];\n      if (target) {\n        return invalidate;\n      }\n      return false;\n    },\n  };\n}\n","function walk(node, fn, options, items = []) {\n  Array.from(node.children).forEach(child => {\n    const hybrids = child.constructor.hybrids;\n    if (hybrids && fn(hybrids)) {\n      items.push(child);\n      if (options.deep && options.nested) {\n        walk(child, fn, options, items);\n      }\n    } else if (options.deep) {\n      walk(child, fn, options, items);\n    }\n  });\n\n  return items;\n}\n\nexport default function children(\n  hybridsOrFn,\n  options = { deep: false, nested: false },\n) {\n  const fn =\n    typeof hybridsOrFn === \"function\"\n      ? hybridsOrFn\n      : hybrids => hybrids === hybridsOrFn;\n  return {\n    get(host) {\n      return walk(host, fn, options);\n    },\n    connect(host, key, invalidate) {\n      const observer = new MutationObserver(invalidate);\n\n      observer.observe(host, {\n        childList: true,\n        subtree: !!options.deep,\n      });\n\n      return () => {\n        observer.disconnect();\n      };\n    },\n  };\n}\n","const map = new WeakMap();\nexport const dataMap = {\n  get(key, defaultValue) {\n    const value = map.get(key);\n    if (value) return value;\n\n    if (defaultValue) {\n      map.set(key, defaultValue);\n    }\n\n    return defaultValue;\n  },\n  set(key, value) {\n    map.set(key, value);\n    return value;\n  },\n};\n\nexport function getTemplateEnd(node) {\n  let data;\n  // eslint-disable-next-line no-cond-assign\n  while (node && (data = dataMap.get(node)) && data.endNode) {\n    node = data.endNode;\n  }\n\n  return node;\n}\n\nexport function removeTemplate(target) {\n  if (target.nodeType !== Node.TEXT_NODE) {\n    let child = target.childNodes[0];\n    while (child) {\n      target.removeChild(child);\n      child = target.childNodes[0];\n    }\n  } else {\n    const data = dataMap.get(target);\n\n    if (data.startNode) {\n      const endNode = getTemplateEnd(data.endNode);\n\n      let node = data.startNode;\n      const lastNextSibling = endNode.nextSibling;\n\n      while (node) {\n        const nextSibling = node.nextSibling;\n        node.parentNode.removeChild(node);\n        node = nextSibling !== lastNextSibling && nextSibling;\n      }\n    }\n  }\n}\n","import { dataMap, removeTemplate, getTemplateEnd } from \"../utils.js\";\n\n// eslint-disable-next-line import/no-cycle\nimport resolveValue from \"./value.js\";\n\nexport const arrayMap = new WeakMap();\n\nfunction movePlaceholder(target, previousSibling) {\n  const data = dataMap.get(target);\n  const startNode = data.startNode;\n  const endNode = getTemplateEnd(data.endNode);\n\n  previousSibling.parentNode.insertBefore(target, previousSibling.nextSibling);\n\n  let prevNode = target;\n  let node = startNode;\n  while (node) {\n    const nextNode = node.nextSibling;\n    prevNode.parentNode.insertBefore(node, prevNode.nextSibling);\n    prevNode = node;\n    node = nextNode !== endNode.nextSibling && nextNode;\n  }\n}\n\nexport default function resolveArray(host, target, value) {\n  let lastEntries = arrayMap.get(target);\n  const entries = value.map((item, index) => ({\n    id: Object.prototype.hasOwnProperty.call(item, \"id\") ? item.id : index,\n    value: item,\n    placeholder: null,\n    available: true,\n  }));\n\n  arrayMap.set(target, entries);\n\n  if (lastEntries) {\n    const ids = new Set();\n    entries.forEach(entry => ids.add(entry.id));\n\n    lastEntries = lastEntries.filter(entry => {\n      if (!ids.has(entry.id)) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  let previousSibling = target;\n  const lastIndex = value.length - 1;\n  const data = dataMap.get(target);\n\n  for (let index = 0; index < entries.length; index += 1) {\n    const entry = entries[index];\n    let matchedEntry;\n    if (lastEntries) {\n      for (let i = 0; i < lastEntries.length; i += 1) {\n        if (lastEntries[i].available && lastEntries[i].id === entry.id) {\n          matchedEntry = lastEntries[i];\n          break;\n        }\n      }\n    }\n\n    let placeholder;\n    if (matchedEntry) {\n      matchedEntry.available = false;\n      placeholder = matchedEntry.placeholder;\n\n      if (placeholder.previousSibling !== previousSibling) {\n        movePlaceholder(placeholder, previousSibling);\n      }\n      if (matchedEntry.value !== entry.value) {\n        resolveValue(host, placeholder, entry.value);\n      }\n    } else {\n      placeholder = document.createTextNode(\"\");\n      previousSibling.parentNode.insertBefore(\n        placeholder,\n        previousSibling.nextSibling,\n      );\n      resolveValue(host, placeholder, entry.value);\n    }\n\n    previousSibling = getTemplateEnd(\n      dataMap.get(placeholder).endNode || placeholder,\n    );\n\n    if (index === 0) data.startNode = placeholder;\n    if (index === lastIndex) data.endNode = previousSibling;\n\n    entry.placeholder = placeholder;\n  }\n\n  if (lastEntries) {\n    lastEntries.forEach(entry => {\n      if (entry.available) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n      }\n    });\n  }\n}\n","import { dataMap, removeTemplate } from \"../utils.js\";\n// eslint-disable-next-line import/no-cycle\nimport resolveArray, { arrayMap } from \"./array.js\";\n\nexport default function resolveValue(host, target, value) {\n  const type = Array.isArray(value) ? \"array\" : typeof value;\n  let data = dataMap.get(target, {});\n\n  if (data.type !== type) {\n    removeTemplate(target);\n    if (type === \"array\") arrayMap.delete(target);\n\n    data = dataMap.set(target, { type });\n\n    if (target.textContent !== \"\") {\n      target.textContent = \"\";\n    }\n  }\n\n  switch (type) {\n    case \"function\":\n      value(host, target);\n      break;\n    case \"array\":\n      resolveArray(host, target, value);\n      break;\n    default:\n      target.textContent = type === \"number\" || value ? value : \"\";\n  }\n}\n","const targets = new WeakMap();\n\nexport default function resolveEventListener(eventType) {\n  return (host, target, value, lastValue) => {\n    if (lastValue) {\n      const eventMap = targets.get(target);\n      if (eventMap) {\n        target.removeEventListener(\n          eventType,\n          eventMap.get(lastValue),\n          lastValue.options !== undefined ? lastValue.options : false,\n        );\n      }\n    }\n\n    if (value) {\n      if (typeof value !== \"function\") {\n        throw Error(`Event listener must be a function: ${typeof value}`);\n      }\n\n      let eventMap = targets.get(target);\n      if (!eventMap) {\n        eventMap = new WeakMap();\n        targets.set(target, eventMap);\n      }\n\n      const callback = value.bind(null, host);\n      eventMap.set(value, callback);\n\n      target.addEventListener(\n        eventType,\n        callback,\n        value.options !== undefined ? value.options : false,\n      );\n    }\n  };\n}\n","function normalizeValue(value, set = new Set()) {\n  if (Array.isArray(value)) {\n    value.forEach(className => set.add(className));\n  } else if (value !== null && typeof value === \"object\") {\n    Object.keys(value).forEach(key => value[key] && set.add(key));\n  } else {\n    set.add(value);\n  }\n\n  return set;\n}\n\nconst classMap = new WeakMap();\n\nexport default function resolveClassList(host, target, value) {\n  const previousList = classMap.get(target) || new Set();\n  const list = normalizeValue(value);\n\n  classMap.set(target, list);\n\n  list.forEach(className => {\n    target.classList.add(className);\n    previousList.delete(className);\n  });\n\n  previousList.forEach(className => {\n    target.classList.remove(className);\n  });\n}\n","import { camelToDash, stringifyElement } from \"../../utils.js\";\n\nconst styleMap = new WeakMap();\n\nexport default function resolveStyle(host, target, value) {\n  if (value === null || typeof value !== \"object\") {\n    throw TypeError(\n      `Style value must be an object in ${stringifyElement(target)}:`,\n      value,\n    );\n  }\n\n  const previousMap = styleMap.get(target) || new Map();\n\n  const nextMap = Object.keys(value).reduce((map, key) => {\n    const dashKey = camelToDash(key);\n    const styleValue = value[key];\n\n    if (!styleValue && styleValue !== 0) {\n      target.style.removeProperty(dashKey);\n    } else {\n      target.style.setProperty(dashKey, styleValue);\n    }\n\n    map.set(dashKey, styleValue);\n    previousMap.delete(dashKey);\n\n    return map;\n  }, new Map());\n\n  previousMap.forEach((styleValue, key) => {\n    target.style[key] = \"\";\n  });\n\n  styleMap.set(target, nextMap);\n}\n","import resolveEventListener from \"./event.js\";\nimport resolveClassList from \"./class.js\";\nimport resolveStyleList from \"./style.js\";\n\nexport default function resolveProperty(attrName, propertyName, isSVG) {\n  if (propertyName.substr(0, 2) === \"on\") {\n    const eventType = propertyName.substr(2);\n    return resolveEventListener(eventType);\n  }\n\n  switch (attrName) {\n    case \"class\":\n      return resolveClassList;\n    case \"style\":\n      return resolveStyleList;\n    default:\n      return (host, target, value) => {\n        if (\n          !isSVG &&\n          !(target instanceof SVGElement) &&\n          propertyName in target\n        ) {\n          if (target[propertyName] !== value) {\n            target[propertyName] = value;\n          }\n        } else if (value === false || value === undefined || value === null) {\n          target.removeAttribute(attrName);\n        } else {\n          const attrValue = value === true ? \"\" : String(value);\n          target.setAttribute(attrName, attrValue);\n        }\n      };\n  }\n}\n","import { stringifyElement, shadyCSS, IS_IE } from \"../utils.js\";\nimport { dataMap, removeTemplate } from \"./utils.js\";\n\nimport resolveValue from \"./resolvers/value.js\";\nimport resolveProperty from \"./resolvers/property.js\";\n\n/* istanbul ignore next */\ntry { process.env.NODE_ENV } catch(e) { var process = { env: { NODE_ENV: 'production' } }; } // eslint-disable-line\n\nconst TIMESTAMP = Date.now();\n\nexport const getPlaceholder = (id = 0) => `{{h-${TIMESTAMP}-${id}}}`;\n\nconst PLACEHOLDER_REGEXP_TEXT = getPlaceholder(\"(\\\\d+)\");\nconst PLACEHOLDER_REGEXP_EQUAL = new RegExp(`^${PLACEHOLDER_REGEXP_TEXT}$`);\nconst PLACEHOLDER_REGEXP_ALL = new RegExp(PLACEHOLDER_REGEXP_TEXT, \"g\");\n\nconst ATTR_PREFIX = `--${TIMESTAMP}--`;\nconst ATTR_REGEXP = new RegExp(ATTR_PREFIX, \"g\");\n\nconst preparedTemplates = new WeakMap();\n\n/* istanbul ignore next */\nfunction applyShadyCSS(template, tagName) {\n  if (!tagName) return template;\n\n  return shadyCSS(shady => {\n    let map = preparedTemplates.get(template);\n    if (!map) {\n      map = new Map();\n      preparedTemplates.set(template, map);\n    }\n\n    let clone = map.get(tagName);\n\n    if (!clone) {\n      clone = document.createElement(\"template\");\n      clone.content.appendChild(template.content.cloneNode(true));\n\n      map.set(tagName, clone);\n\n      const styles = clone.content.querySelectorAll(\"style\");\n\n      Array.from(styles).forEach(style => {\n        const count = style.childNodes.length + 1;\n        for (let i = 0; i < count; i += 1) {\n          style.parentNode.insertBefore(\n            document.createTextNode(getPlaceholder()),\n            style,\n          );\n        }\n      });\n\n      shady.prepareTemplate(clone, tagName.toLowerCase());\n    }\n    return clone;\n  }, template);\n}\n\nfunction createSignature(parts, styles) {\n  let signature = parts.reduce((acc, part, index) => {\n    if (index === 0) {\n      return part;\n    }\n\n    if (\n      parts\n        .slice(index)\n        .join(\"\")\n        .match(/^\\s*<\\/\\s*(table|tr|thead|tbody|tfoot|colgroup)>/)\n    ) {\n      return `${acc}<!--${getPlaceholder(index - 1)}-->${part}`;\n    }\n    return acc + getPlaceholder(index - 1) + part;\n  }, \"\");\n\n  if (styles) {\n    signature += `<style>\\n${styles.join(\"\\n/*------*/\\n\")}\\n</style>`;\n  }\n\n  /* istanbul ignore if */\n  if (IS_IE) {\n    return signature.replace(\n      /style\\s*=\\s*([\"][^\"]+[\"]|['][^']+[']|[^\\s\"'<>/]+)/g,\n      match => `${ATTR_PREFIX}${match}`,\n    );\n  }\n\n  return signature;\n}\n\nfunction getPropertyName(string) {\n  return string\n    .replace(/\\s*=\\s*['\"]*$/g, \"\")\n    .split(/\\s+/)\n    .pop();\n}\n\nfunction replaceComments(fragment) {\n  const iterator = document.createNodeIterator(\n    fragment,\n    NodeFilter.SHOW_COMMENT,\n    null,\n    false,\n  );\n  let node;\n  // eslint-disable-next-line no-cond-assign\n  while ((node = iterator.nextNode())) {\n    if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n      node.parentNode.insertBefore(\n        document.createTextNode(node.textContent),\n        node,\n      );\n      node.parentNode.removeChild(node);\n    }\n  }\n}\n\nexport function createInternalWalker(context) {\n  let node;\n\n  return {\n    get currentNode() {\n      return node;\n    },\n    nextNode() {\n      if (node === undefined) {\n        node = context.childNodes[0];\n      } else if (node.childNodes.length) {\n        node = node.childNodes[0];\n      } else if (node.nextSibling) {\n        node = node.nextSibling;\n      } else {\n        let parentNode = node.parentNode;\n        node = parentNode.nextSibling;\n\n        while (!node && parentNode !== context) {\n          parentNode = parentNode.parentNode;\n          node = parentNode.nextSibling;\n        }\n      }\n\n      return !!node;\n    },\n  };\n}\n\nfunction createExternalWalker(context) {\n  return document.createTreeWalker(\n    context,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT,\n    null,\n    false,\n  );\n}\n\n/* istanbul ignore next */\nconst createWalker =\n  typeof window.ShadyDOM === \"object\" && window.ShadyDOM.inUse\n    ? createInternalWalker\n    : createExternalWalker;\n\nconst container = document.createElement(\"div\");\nexport function compileTemplate(rawParts, isSVG, styles) {\n  const template = document.createElement(\"template\");\n  const parts = [];\n\n  let signature = createSignature(rawParts, styles);\n  if (isSVG) signature = `<svg>${signature}</svg>`;\n\n  /* istanbul ignore if */\n  if (IS_IE) {\n    template.innerHTML = signature;\n  } else {\n    container.innerHTML = `<template>${signature}</template>`;\n    template.content.appendChild(container.children[0].content);\n  }\n\n  if (isSVG) {\n    const svgRoot = template.content.firstChild;\n    template.content.removeChild(svgRoot);\n    Array.from(svgRoot.childNodes).forEach(node =>\n      template.content.appendChild(node),\n    );\n  }\n\n  replaceComments(template.content);\n\n  const compileWalker = createWalker(template.content);\n  let compileIndex = 0;\n\n  while (compileWalker.nextNode()) {\n    const node = compileWalker.currentNode;\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      const text = node.textContent;\n\n      if (!text.match(PLACEHOLDER_REGEXP_EQUAL)) {\n        const results = text.match(PLACEHOLDER_REGEXP_ALL);\n        if (results) {\n          let currentNode = node;\n          results\n            .reduce(\n              (acc, placeholder) => {\n                const [before, next] = acc.pop().split(placeholder);\n                if (before) acc.push(before);\n                acc.push(placeholder);\n                if (next) acc.push(next);\n                return acc;\n              },\n              [text],\n            )\n            .forEach((part, index) => {\n              if (index === 0) {\n                currentNode.textContent = part;\n              } else {\n                currentNode = currentNode.parentNode.insertBefore(\n                  document.createTextNode(part),\n                  currentNode.nextSibling,\n                );\n              }\n            });\n        }\n      }\n\n      const equal = node.textContent.match(PLACEHOLDER_REGEXP_EQUAL);\n      if (equal) {\n        /* istanbul ignore else */\n        if (!IS_IE) node.textContent = \"\";\n        parts[equal[1]] = [compileIndex, resolveValue];\n      }\n    } else {\n      /* istanbul ignore else */ // eslint-disable-next-line no-lonely-if\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        Array.from(node.attributes).forEach(attr => {\n          const value = attr.value.trim();\n          /* istanbul ignore next */\n          const name = IS_IE ? attr.name.replace(ATTR_PREFIX, \"\") : attr.name;\n          const equal = value.match(PLACEHOLDER_REGEXP_EQUAL);\n          if (equal) {\n            const propertyName = getPropertyName(rawParts[equal[1]]);\n            parts[equal[1]] = [\n              compileIndex,\n              resolveProperty(name, propertyName, isSVG),\n            ];\n            node.removeAttribute(attr.name);\n          } else {\n            const results = value.match(PLACEHOLDER_REGEXP_ALL);\n            if (results) {\n              const partialName = `attr__${name}`;\n\n              results.forEach((placeholder, index) => {\n                const [, id] = placeholder.match(PLACEHOLDER_REGEXP_EQUAL);\n                parts[id] = [\n                  compileIndex,\n                  (host, target, attrValue) => {\n                    const data = dataMap.get(target, {});\n                    data[partialName] = (data[partialName] || value).replace(\n                      placeholder,\n                      attrValue == null ? \"\" : attrValue,\n                    );\n\n                    if (results.length === 1 || index + 1 === results.length) {\n                      target.setAttribute(name, data[partialName]);\n                      data[partialName] = undefined;\n                    }\n                  },\n                ];\n              });\n\n              attr.value = \"\";\n\n              /* istanbul ignore next */\n              if (IS_IE && name !== attr.name) {\n                node.removeAttribute(attr.name);\n                node.setAttribute(name, \"\");\n              }\n            }\n          }\n        });\n      }\n    }\n\n    compileIndex += 1;\n  }\n\n  return function updateTemplateInstance(host, target, args) {\n    const data = dataMap.get(target, { type: \"function\" });\n\n    if (template !== data.template) {\n      if (data.template || target.nodeType === Node.ELEMENT_NODE)\n        removeTemplate(target);\n      data.prevArgs = null;\n\n      const fragment = document.importNode(\n        applyShadyCSS(template, host.tagName).content,\n        true,\n      );\n\n      const renderWalker = createWalker(fragment);\n      const clonedParts = parts.slice(0);\n\n      let renderIndex = 0;\n      let currentPart = clonedParts.shift();\n\n      const markers = [];\n\n      data.template = template;\n      data.markers = markers;\n\n      while (renderWalker.nextNode()) {\n        const node = renderWalker.currentNode;\n\n        if (node.nodeType === Node.TEXT_NODE) {\n          /* istanbul ignore next */\n          if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n            node.textContent = \"\";\n          } else if (IS_IE) {\n            node.textContent = node.textContent.replace(ATTR_REGEXP, \"\");\n          }\n        } else if (\n          process.env.NODE_ENV !== \"production\" &&\n          node.nodeType === Node.ELEMENT_NODE\n        ) {\n          if (\n            node.tagName.indexOf(\"-\") > -1 &&\n            !customElements.get(node.tagName.toLowerCase())\n          ) {\n            throw Error(\n              `Missing '${stringifyElement(\n                node,\n              )}' element definition in '${stringifyElement(host)}'`,\n            );\n          }\n        }\n\n        while (currentPart && currentPart[0] === renderIndex) {\n          markers.push([node, currentPart[1]]);\n          currentPart = clonedParts.shift();\n        }\n\n        renderIndex += 1;\n      }\n\n      if (target.nodeType === Node.TEXT_NODE) {\n        data.startNode = fragment.childNodes[0];\n        data.endNode = fragment.childNodes[fragment.childNodes.length - 1];\n\n        let previousChild = target;\n\n        let child = fragment.childNodes[0];\n        while (child) {\n          target.parentNode.insertBefore(child, previousChild.nextSibling);\n          previousChild = child;\n          child = fragment.childNodes[0];\n        }\n      } else {\n        target.appendChild(fragment);\n      }\n    }\n\n    const prevArgs = data.prevArgs;\n    data.prevArgs = args;\n\n    for (let index = 0; index < data.markers.length; index += 1) {\n      const [node, marker] = data.markers[index];\n      if (!prevArgs || prevArgs[index] !== args[index]) {\n        marker(host, node, args[index], prevArgs ? prevArgs[index] : undefined);\n      }\n    }\n\n    if (target.nodeType !== Node.TEXT_NODE) {\n      shadyCSS(shady => {\n        if (host.shadowRoot) {\n          if (prevArgs) {\n            shady.styleSubtree(host);\n          } else {\n            shady.styleElement(host);\n          }\n        }\n      });\n    }\n  };\n}\n","const setCache = new Map();\nexport function set(propertyName, value) {\n  if (!propertyName)\n    throw Error(`Target property name missing: ${propertyName}`);\n\n  if (arguments.length === 2) {\n    return host => {\n      host[propertyName] = value;\n    };\n  }\n\n  let fn = setCache.get(propertyName);\n\n  if (!fn) {\n    fn = (host, { target }) => {\n      host[propertyName] = target.value;\n    };\n    setCache.set(propertyName, fn);\n  }\n\n  return fn;\n}\n\nconst promiseMap = new WeakMap();\nexport function resolve(promise, placeholder, delay = 200) {\n  return (host, target) => {\n    let timeout;\n\n    if (placeholder) {\n      timeout = setTimeout(() => {\n        timeout = undefined;\n\n        requestAnimationFrame(() => {\n          placeholder(host, target);\n        });\n      }, delay);\n    }\n\n    promiseMap.set(target, promise);\n\n    promise.then(template => {\n      if (timeout) clearTimeout(timeout);\n\n      if (promiseMap.get(target) === promise) {\n        template(host, target);\n        promiseMap.set(target, null);\n      }\n    });\n  };\n}\n","import defineElements from \"../define.js\";\n\nimport { compileTemplate, getPlaceholder } from \"./core.js\";\nimport * as helpers from \"./helpers.js\";\n\nconst PLACEHOLDER = getPlaceholder();\nconst SVG_PLACEHOLDER = getPlaceholder(\"svg\");\n\nconst templatesMap = new Map();\nconst stylesMap = new WeakMap();\n\nconst methods = {\n  define(elements) {\n    defineElements(elements);\n    return this;\n  },\n  key(id) {\n    this.id = id;\n    return this;\n  },\n  style(...styles) {\n    stylesMap.set(this, styles);\n    return this;\n  },\n};\n\nfunction create(parts, args, isSVG) {\n  const createTemplate = (host, target = host) => {\n    const styles = stylesMap.get(createTemplate);\n    let id = parts.join(PLACEHOLDER);\n    if (styles) id += styles.join(PLACEHOLDER);\n    if (isSVG) id += SVG_PLACEHOLDER;\n\n    let render = templatesMap.get(id);\n    if (!render) {\n      render = compileTemplate(parts, isSVG, styles);\n      templatesMap.set(id, render);\n    }\n\n    render(host, target, args);\n  };\n\n  return Object.assign(createTemplate, methods);\n}\n\nexport function html(parts, ...args) {\n  return create(parts, args);\n}\n\nexport function svg(parts, ...args) {\n  return create(parts, args, true);\n}\n\nObject.assign(html, helpers);\nObject.assign(svg, helpers);\n","import \"./styles.css\";\n\nimport { html, define } from \"hybrids\";\n\nexport const settings = {\n  counter: 0\n};\n\nexport const render = settings => {\n  return {\n    ...settings,\n    render: ({ counter }) => html`\n      <div>${counter}</div>\n    `\n  };\n};\n\ndefine('counter', render())\n","import \"./styles.css\";\n\nimport { html, define } from \"hybrids\";\n\nexport const settings = {\n  counter: 0\n};\n\nexport const render = settings => {\n  return {\n    ...settings,\n    render: ({ counter }) => html`\n      <div>${counter}</div>\n    `\n  };\n};\n\ndefine('counter', render())\n"]}